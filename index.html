<!DOCTYPE html> 
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#667eea">
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="icons/icon-192.svg">
    <title>Notes de Musique - Jeu d'apprentissage</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸµ Notes de Musique ğŸµ</h1>

        <div style="text-align:center; margin-top:10px;">
            <button id="installBtn" class="start-game-btn" style="display:none;">ğŸ“¥ Installer</button>
        </div>
        
        <div class="mode-selection" id="modeSelection">
            <div class="instruction">Choisissez le mode de jeu :</div>
            <div class="mode-buttons">
                <button class="mode-btn" data-mode="forward">
                    â–¶ï¸ Ã€ l'endroit
                </button>
                <button class="mode-btn" data-mode="backward">
                    â—€ï¸ Ã€ l'envers
                </button>
            </div>

            <div class="difficulty-section">
                <div class="instruction">Choisissez la difficultÃ© :</div>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn" data-difficulty="easy">
                        ğŸ˜Š Facile<br><small>(âˆ)</small>
                    </button>
                    <button class="difficulty-btn" data-difficulty="medium">
                        ğŸ˜ Moyen<br><small>(3s)</small>
                    </button>
                    <button class="difficulty-btn" data-difficulty="hard">
                        ğŸ˜° Difficile<br><small>(1s)</small>
                    </button>
                </div>
            </div>

            <button class="start-game-btn" id="startGameBtn" disabled>
                ğŸ® Commencer le jeu
            </button>
        </div>

        <div class="game-area" id="gameArea">
            <div class="score-board">
                <div class="score-inline" id="scoreInline">RÃ©ponses : 0/0</div>
            </div>

            <div class="timer-text" id="timerText"></div>
            <div class="timer-bar" id="timerBar" style="display: none;">
                <div class="timer-fill" id="timerFill"></div>
            </div>

            <div class="instruction" id="instruction"></div>
            <div class="current-note" id="currentNote">Do</div>

            <div class="notes-grid" id="notesGrid"></div>

            <div class="feedback" id="feedback"></div>

            <button class="restart-btn" id="restartBtn">Retour Ã  l'accueil</button>
        </div>
    </div>

        <script type="module" src="script.js"></script>
        <script>
            // Service worker registration for PWA (scope root)
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/sw.js', { scope: '/' }).catch(() => {});
                });
            }
        </script>
</body>
</html>
